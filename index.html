<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SeatPlan</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header>
      <div class="header-content">
        <!-- App title - now with logo -->
        <div class="app-title-container">
          <div id="logo-container" class="logo-container">
            <!-- Logo placeholder that will show when no logo is uploaded -->
            <div class="header-logo-placeholder" id="header-logo-placeholder">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-placeholder-icon">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="16"></line>
                <line x1="8" y1="12" x2="16" y2="12"></line>
              </svg>
            </div>
          </div>
          <h1 id="app-title">SeatPlan</h1>
        </div>
        
        <!-- Mode tabs -->
        <div class="mode-tabs">
          <button id="search-mode-btn" class="tab active">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            Search
          </button>
          <button id="admin-mode-btn" class="tab">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
            Admin
          </button>
        </div>
      </div>
    </header>
    
    <!-- Main content -->
    <main>
      <!-- Search Mode -->
      <section id="search-section" class="mode-section active">
        <div class="search-container">
          <div class="search-input-wrapper">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="search-input" placeholder="Search for a name...">
          </div>
          
          <!-- Alphabet bar -->
          <div id="alphabet-bar" class="alphabet-bar"></div>
        </div>
        
        <!-- Tables Overview Section -->
        <div class="tables-overview">
          <div id="tables-overview-container" class="tables-overview-container">
            <!-- Tables will be populated here by JavaScript -->
          </div>
        </div>
        
        <div id="search-results" class="search-results"></div>
      </section>
      
      <!-- Admin Mode -->
      <section id="admin-section" class="mode-section">
        <div class="admin-header">
          <h2 class="section-title">Event Administration</h2>
          
          <!-- Admin Sub Navigation -->
          <div class="admin-sub-nav">
            <button id="event-settings-btn" class="sub-tab active">Event Settings</button>
            <button id="guest-management-btn" class="sub-tab">Guest Management</button>
            <button id="floor-plan-btn" class="sub-tab">Floor Plans</button>
            <button id="settings-btn" class="sub-tab">Settings</button>
          </div>
        </div>
        
        <!-- Event Settings Content -->
        <div id="event-settings-content" class="admin-sub-content active">
          <div class="admin-panel">
            <!-- Event Settings -->
            <div class="panel-section">
              <h3 class="section-heading">Event Settings</h3>
              
              <div class="form-group">
                <label for="event-name">Event Name</label>
                <div class="form-input-group">
                  <input type="text" id="event-name" class="form-control" placeholder="Enter event name">
                  <button id="save-event-name" class="btn primary">Save</button>
                </div>
              </div>
              
              <div class="form-group">
                <label for="event-date">Event Date</label>
                <input type="date" id="event-date" class="form-control">
              </div>
              
              <div class="form-group">
                <label for="logo-uploader">Event Logo (800 x 800px recommended)</label>
                <div id="logo-drop-area" class="logo-drop-area">
                  <div class="logo-placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-placeholder-icon">
                      <circle cx="12" cy="12" r="10"></circle>
                      <line x1="12" y1="8" x2="12" y2="16"></line>
                      <line x1="8" y1="12" x2="16" y2="12"></line>
                    </svg>
                    <span>Add Logo</span>
                  </div>
                  <p>Drag & drop a logo image here</p>
                  <div class="or-separator">OR</div>
                  <input type="file" id="logo-file-input" accept="image/*" style="display:none">
                  <button id="logo-select-btn" class="btn">Select Image</button>
                </div>
                <div id="logo-preview" class="logo-preview hidden">
                  <img id="logo-preview-img" src="">
                  <button id="remove-logo-btn" class="btn danger">Remove Logo</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Guest Management Content -->
        <div id="guest-management-content" class="admin-sub-content">
          <div class="admin-panel">
            <!-- Import Guest List -->
            <div class="panel-section">
              <h3 class="section-heading">Import Guest List</h3>
              <p class="help-text">Paste data in the format: Name,Role,TableNumber (e.g., John Doe,,1)</p>
              <div class="form-group">
                <textarea id="paste-data-area" class="form-control textarea" rows="8" placeholder="Paste guest data here..."></textarea>
              </div>
              <div class="form-actions">
                <button id="process-pasted-data-btn" class="btn primary">Import Guests</button>
                <button id="csv-import-btn" class="btn">Import CSV</button>
                <input type="file" id="csv-file-input" accept=".csv" style="display:none">
              </div>
            </div>
            
            <!-- Guest Management -->
            <div class="panel-section">
              <h3>Guest Management</h3>
              <button id="view-guests-btn" class="btn primary">View & Edit Guests</button>
            </div>
            
            <!-- Clear Data -->
            <div class="panel-section">
              <h3>Clear Data</h3>
              <div class="form-group">
                <label class="checkbox-label">
                  <input type="checkbox" id="clear-event-name-checkbox">
                  Also clear event name
                </label>
              </div>
              <button id="clear-all-data-btn" class="btn danger">Clear All Data</button>
            </div>
          </div>
        </div>
        
        <!-- Settings Content -->
        <div id="settings-content" class="admin-sub-content">
          <div class="admin-panel">
            <!-- Change Password Section -->
            <div class="panel-section">
              <h3 class="section-heading">Change Admin Password</h3>
              <div class="form-group">
                <label for="current-password">Current Password:</label>
                <input type="password" id="current-password" class="form-control">
              </div>
              <div class="form-group">
                <label for="new-password">New Password:</label>
                <input type="password" id="new-password" class="form-control">
              </div>
              <div class="form-group">
                <label for="confirm-password">Confirm New Password:</label>
                <input type="password" id="confirm-password" class="form-control">
              </div>
              <button onclick="changeAdminPassword()" class="btn btn-primary">Change Password</button>
            </div>

            <!-- Timeout Settings Section -->
            <div class="panel-section">
              <h3 class="section-heading">Admin Session Timeout</h3>
              <div class="form-group">
                <label for="admin-timeout">Select timeout duration:</label>
                <select id="admin-timeout" class="form-control" onchange="changeAdminTimeout()">
                  <option value="600000">10 minutes</option>
                  <option value="1800000">30 minutes</option>
                  <option value="3600000">1 hour</option>
                  <option value="0">Never</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Floor Plan Content -->
        <div id="floor-plan-content" class="admin-sub-content">
          <!-- Floor Plan Mode Content -->
          <div class="floor-plan-layout">
            <!-- Table Panel (left side) -->
            <div class="floor-plan-panel">
              <div class="floor-panel-header">
                <div class="table-management-controls">
                  <button id="add-table-btn" class="btn primary">Add Table</button>
                  <button id="edit-tables-btn" class="btn">Edit Tables</button>
                </div>
                <h3 class="panel-title">Available Tables</h3>
              </div>
              <div id="available-tables" class="available-tables">
                <!-- Tables will be populated here -->
              </div>
            </div>
            
            <!-- Floor Plan Grid (right side) -->
            <div class="floor-plan-container">
              <div class="floor-plan-header">
                <div class="floor-plan-actions">
                  <div class="floor-plan-left-actions">
                    <h3 id="floor-title" class="floor-plan-title">SeatPlan - Floor Plan</h3>
                    <button id="upload-floor-plan-btn" class="btn">Upload Floor Plan Image</button>
                    <button id="remove-floor-image-btn" class="btn danger hidden">Remove Image</button>
                  </div>
                  
                  <div class="floor-controls-right">
                    <div class="table-scale-control">
                      <span>Table Size</span>
                      <input type="range" id="table-scale-slider" min="50" max="100" value="100" class="slider">
                      <span id="table-scale-value">100%</span>
                    </div>
                    
                    <button id="auto-arrange-btn" class="btn">Auto Arrange</button>
                    
                    <button id="toggle-lock-btn" class="btn lock-btn">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                      </svg>
                      <span id="lock-status-text">Locked</span>
                    </button>
                  </div>
                </div>
              </div>
              <div id="floor-plan" class="floor-plan">
                <div id="floor-grid" class="floor-grid">
                  <!-- Grid content will go here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    
    <!-- Modal Container -->
    <div id="modal-container" class="modal-container hidden">
      <div class="modal">
        <div class="modal-header">
          <h3 id="modal-title">Modal Title</h3>
          <button id="modal-close" class="modal-close">&times;</button>
        </div>
        <div id="modal-content" class="modal-content"></div>
      </div>
    </div>
    
    <!-- Floor Plan Image Upload Modal -->
    <div id="floor-image-modal" class="modal-container hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Upload Floor Plan Image</h3>
          <button id="floor-image-modal-close" class="modal-close">&times;</button>
        </div>
        <div class="modal-content">
          <div id="floor-image-drop-area" class="logo-drop-area">
            <p>Drag & drop a floor plan image here</p>
            <div class="or-separator">OR</div>
            <input type="file" id="floor-image-file-input" accept="image/*" style="display:none">
            <button id="floor-image-select-btn" class="btn">Select Image</button>
          </div>
          <div id="floor-image-preview" class="logo-preview hidden">
            <img id="floor-image-preview-img" src="">
          </div>
          <div class="modal-actions">
            <button id="confirm-floor-image-btn" class="btn primary">Confirm</button>
            <button id="cancel-floor-image-btn" class="btn">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Auto Arrange Tables Modal -->
    <div id="auto-arrange-modal" class="modal-container hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Auto Arrange Tables</h3>
          <button id="auto-arrange-modal-close" class="modal-close">&times;</button>
        </div>
        <div class="modal-content">
          <p class="help-text">Select a layout configuration for automatically placing tables on the floor plan.</p>
          
          <div class="layout-options">
            <div class="form-group">
              <label>Layout Type</label>
              <select id="layout-type" class="modal-input">
                <option value="grid">Grid Layout</option>
                <option value="circle">Circular Layout</option>
                <option value="u-shape">U-Shape Layout</option>
              </select>
            </div>
            
            <div id="grid-options">
              <div class="form-group">
                <label>Number of Tables per Row</label>
                <select id="tables-per-row" class="modal-input">
                  <option value="2">2 Tables</option>
                  <option value="3">3 Tables</option>
                  <option value="4" selected>4 Tables</option>
                  <option value="5">5 Tables</option>
                  <option value="6">6 Tables</option>
                  <option value="8">8 Tables</option>
                  <option value="10">10 Tables</option>
                </select>
              </div>
              
              <div class="form-group">
                <label>Spacing Between Tables</label>
                <select id="table-spacing" class="modal-input">
                  <option value="tight">Tight (Minimal Spacing)</option>
                  <option value="normal" selected>Normal</option>
                  <option value="spacious">Spacious</option>
                </select>
              </div>
            </div>
            
            <div id="circle-options" style="display: none;">
              <div class="form-group">
                <label>Circle Size</label>
                <select id="circle-size" class="modal-input">
                  <option value="small">Small (Tight Circle)</option>
                  <option value="medium" selected>Medium</option>
                  <option value="large">Large (Wide Circle)</option>
                </select>
              </div>
            </div>
            
            <div id="u-shape-options" style="display: none;">
              <div class="form-group">
                <label>U-Shape Size</label>
                <select id="u-shape-size" class="modal-input">
                  <option value="small">Small</option>
                  <option value="medium" selected>Medium</option>
                  <option value="large">Large</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="modal-actions">
            <button id="cancel-auto-arrange" class="btn">Cancel</button>
            <button id="apply-auto-arrange" class="btn primary">Apply Layout</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Scripts -->
  <script src="renderer.js"></script>
</body>
</html>